{"version":3,"file":"index.js","mappings":"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","sources":["webpack://fictional-university-theme/./src/index.js"],"sourcesContent":["//*** VARIABLES ************************\n\nconst searchIcon = document.querySelector('.search-icon');\nconst searchOverlay = document.getElementById('searchOverlay');\nconst navigation = document.querySelector('.fixed-top'); \nconst closeButton = document.querySelector('.fa-window-close');\nconst bodyElement = document.querySelector('body');\nconst searchField = document.getElementById('search-field');\nconst resultsDiv = document.querySelector('.spinner');\nconst carouselItem = document.querySelector('.carousel-item');\n\nlet isSpinnerVisible = false;\nlet isOverlayOpen = false;\nlet typingTimer;\nlet previousValue;\n\n\n\n//*** VARIABLES ************************\n\n\n//*** EVENT LISTENERS ******************\n// window.addEventListener('scroll', navBackground);\nwindow.addEventListener('keydown', keyPressDispatcher);\nsearchIcon.addEventListener('click', show);\ncloseButton.addEventListener('click', hide);\nsearchField.addEventListener('keyup', typingLogic)\n\n//*** EVENT LISTENERS ******************\n\n\n\n\n\n\n//*** FUNCTIONS ************************\nfunction addActiveClass() {\n    if(carouselItem) {\n        carouselItem.classList.add('active');\n    }\n}\n\naddActiveClass();\n\n\n\nfunction typingLogic() {\n    if (searchField.value != previousValue) {\n        clearTimeout(typingTimer);\n        if(searchField.value) {\n            if(isSpinnerVisible == false) {\n                resultsDiv.innerHTML = '<i class=\"mt-5 text-white fas fa-spinner fa-spin\"></i>';\n                isSpinnerVisible = true;\n            }\n            typingTimer = setTimeout(getResults, 500);\n        } else  {\n            resultsDiv.innerHTML('');\n            isSpinnerVisible = false;\n        }\n       \n    }\n\n    previousValue = searchField.value;\n}\n\n\nfunction getResults() {\n    fetch(superstreetData.root_url + '/wp-json/superstreet/search?term=' + searchField.value)\n    .then(r => r.json())\n    .then(data => { \n        console.log(data);\n        resultsDiv.innerHTML = `\n        ${data.general.length ? '<ul class=\"list-unstyled\">' : '<p class=\"text-light\">No information matches that search</p>'}\n            ${data.general.map(item => `<li><h2><a class=\"yellowBG text-light d-block\" href=\"${item.permalink}\">${item.title}</a></li></h2>`).join('')}\n        ${data.general.length ? '</ul>' : ''}\n      `;\n      isSpinnerVisible = false;\n    })\n    .catch(e => console.log(e))\n}\n\nfunction show() {\n    searchOverlay.classList.toggle('d-none');\n    bodyElement.classList.add('no-scroll');\n    searchField.focus();\n    isOverlayOpen = true;\n}\n\nfunction hide() {\n    searchOverlay.classList.add('d-none');\n    bodyElement.classList.remove('no-scroll');\n    searchField.value = '';\n    resultsDiv.innerHTML = '';\n    isOverlayOpen = false;\n}\n\nfunction keyPressDispatcher(event) {\n    if(event.code == 'KeyS' && isOverlayOpen == false ) {\n        show();\n    } else if (event.code == 'Escape' && isOverlayOpen == true) {\n        hide();\n    }\n}\n\n"],"names":["searchIcon","document","querySelector","searchOverlay","getElementById","navigation","closeButton","bodyElement","searchField","resultsDiv","carouselItem","isSpinnerVisible","isOverlayOpen","typingTimer","previousValue","window","addEventListener","keyPressDispatcher","show","hide","typingLogic","addActiveClass","classList","add","value","clearTimeout","innerHTML","setTimeout","getResults","fetch","superstreetData","root_url","then","r","json","data","console","log","general","length","map","item","permalink","title","join","catch","e","toggle","focus","remove","event","code"],"sourceRoot":""}